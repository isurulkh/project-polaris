# Project Polaris Environment Configuration
# Copy this file to .env and fill in your values

# ======================
# Application Settings
# ======================
APP_NAME="Project Polaris"
APP_VERSION="1.0.0"
ENVIRONMENT="development"  # development, staging, production
DEBUG="false"

# API Configuration
API_HOST="0.0.0.0"
API_PORT="8000"
API_WORKERS="4"

# ======================
# Google Gemini API
# ======================
GOOGLE_API_KEY="AIzaSyAcczrBkJnNYW2NPAGdbZChMaLPixEibF0"
GEMINI_MODEL_FLASH="gemini-flash-latest"
GEMINI_MODEL_PRO="gemini-2.5-pro"
GEMINI_EMBEDDING_MODEL="models/text-embedding-004"
GEMINI_TEMPERATURE="0.1"
GEMINI_MAX_OUTPUT_TOKENS="8192"

# ======================
# Supabase Database (PGVector)
# ======================
# Get these from your Supabase dashboard
DATABASE_URL="postgresql://postgres:%40SK%404%2Brchw_4u7D@db.blllkgxrfesmanypbxpr.supabase.co:5432/postgres"
SUPABASE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJsbGxrZ3hyZmVzbWFueXBieHByIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwNTE5OTksImV4cCI6MjA3NjYyNzk5OX0.n5x_E3KKjY9n4BqzfPk5S_Rbx7918oCzCyDdhg1gd0Q"  # From Settings > API > anon public


EMBEDDING_DIMENSION="768"
SUPABASE_TABLE_NAME="documents_2"  # From n8n workflow
SUPABASE_QUERY_NAME="match_documents"  # From n8n workflow
COLLECTION_NAME="google_drive_documents"
DISTANCE_METRIC="cosine"  # cosine, l2, ip

# ======================
# RAG Configuration
# ======================
CHUNK_SIZE="1000"
CHUNK_OVERLAP="200"
TOP_K_RETRIEVAL="20"
TOP_K_FINAL="5"
SIMILARITY_THRESHOLD="0.7"

# Advanced RAG Features
ENABLE_HYDE="true"
ENABLE_RERANKING="true"
ENABLE_HYBRID_SEARCH="true"
RERANK_MODEL="cross-encoder/ms-marco-MiniLM-L-6-v2"

# ======================
# Redis Cache (Optional)
# ======================
REDIS_URL="redis://localhost:6379/0"
CACHE_TTL="3600"
ENABLE_CACHE="true"

# ======================
# Security
# ======================
SECRET_KEY="your_secret_key_here_use_long_random_string"
ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES="60"

# Rate Limiting
RATE_LIMIT_PER_MINUTE="60"
RATE_LIMIT_BURST="10"

# ======================
# Monitoring
# ======================
ENABLE_PROMETHEUS="true"
PROMETHEUS_PORT="9090"
LOG_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# ======================
# Conversation History
# ======================
MAX_CONVERSATION_HISTORY="10"
CONVERSATION_STORE_ENABLED="true"